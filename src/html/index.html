<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Institutional Library</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <div class="w3-panel w3-black w3-border w3-bottombar">
            <div class="w3-header w3-center">
                <h1>Institutional Library</h1>
            </div>
            <div class="w3-center">
                <div class="w3-left" style="margin-left: 100px;">
                    <a href="../../memberLogin" class="w3-btn w3-hover-grey"><h4>Sign In</h4></a>
                    <a href="../../Sign_up" class="w3-btn w3-hover-grey"><h4>Sign Up</h4></a>
                    <a href="adminLogin.html" class="w3-btn w3-hover-grey"><h4>Admin Login</h4></a>
                    <a href="news_events.html" class="w3-btn w3-hover-grey"><h4>News and Events</h4></a>
                    <a href="links.html" class="w3-btn w3-hover-grey"><h4>Useful Links</h4></a>
                </div>
                <div class="w3-dropdown-hover w3-right:0">
                    <button class="w3-button"><h4>:::Menu</h4></button>
                    <div class="w3-dropdown-content w3-bar-block w3-card-4">
                      <a href="index.html" class="w3-bar-item w3-button">Home</a>
                      <a href="ac_books.html" class="w3-bar-item w3-button">Academic Books</a>
                      <a href="other_books.html" class="w3-bar-item w3-button">Other Books</a>
                      <a href="new_arrivals.html" class="w3-bar-item w3-button">New Books</a>
                      <a href="members.html" class="w3-bar-item w3-button">Members</a>
                      <a href="Reviews.html" class="w3-bar-item w3-button">Reviews</a>
                      <a href="Authors.html" class="w3-bar-item w3-button">Authors</a>
                      <a href="Publishers.html" class="w3-bar-item w3-button">Publishers</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="w3-panel w3-center w3-border-green w3-topbar w3-bottombar" style="margin-top: 40px;">
            <header><h3 style="color: red;">New Arrivals</h3></header>
            <div id="booksdiv">

            </div>
            <!--div class="w3-panel w3-border" style="width: 24%; float: left; margin-right: 5px;">
                <div class="w3-card">
                    <img class="w3-round w3-border" src="images/book1.jpg">
                </div>
                <div class="w3-card-2" style="">Book name</div>
                <div class="w3-card-2" style="">Author name</div>
                <div class="w3-card-2" style="">Status</div>
            </div-->
       
            <a href="new_arrivals.html" class="w3-btn w3-center w3-grey">View All>></a>
        </div>
        
        <div class="w3-panel w3-center w3-border-green w3-topbar w3-bottombar" style="margin-top: 40px;">
            <header><h3 style="color: red;">News and Events</h3></header>
            <div id="newsdiv">
                
            </div>
            <a href="news_events.html" class="w3-btn w3-center w3-grey">View All>></a>
        </div>
        

        <div class="w3-panel w3-purple w3-border w3-topbar" style="height: 170px;">
            <div class="" style="float: left; width: 200px;">
                <div class="w3-card-4">
                    <header><h2>Institutional</h2></header>
                    <img src="images/library.png" width="150px" height="90px">
                </div>

            </div>
            <div class="" style="float: left; width: 200px;">
                <button class="w3-btn" onclick="window.alert('Please abide by the library rules. Keep calm and do not smoke inside. Return issued book within given time')"><h4>Message for you</h4></button>
                <a href="contactUs.html" class="w3-btn" style="margin-top: 340 px;"><h3>Contact Us</h3></a>
            </div>
            <div class="w3-panel" style="margin-left: 100px; float: left;">
                <div>
                     <img src="images/gmail.png" width="60px" height="40px">
                     <a href="mailto:bagg.beripotol@gmail.com" class="w3-btn">Mail us</a>
                </div>
                     <img src="images/facebook.png" width="60px" height="40px">
                     <a href="https://www.facebook.com/BeripotolAdarshaGonoGronthagar/" class="w3-btn">Connect with us</a>
                <div>
                </div>
                <p>Developed By: 1805048, 1805060<br>@2022,All rights reserved</p>
            </div>
            <div class="w3-panel" style="margin-left: 30px; float: left;">
                <img src="images/book-in-hand.jpg" height="130px" width="230px">
            </div>
        </div>

        <script>
            const getInfo =async (inp)=>{
                const url = 'http://localhost:8080/index.html/'+inp;
                const options = {method: 'GET'};
                const response = await fetch(url,options); 
                const myjs = await response.json();
                var mydiv ;
                if(inp=='news'){
                    mydiv= $("#newsdiv");
                    mydiv.empty();
                    let i=0;
                    while(i<2){
                        mydiv.append('<div class="w3-panel w3-border" style="width: 45%; float: left; margin-right: 5px; margin-left: 30px;">'+
                        '<div class="w3-card">'+'<img class="w3-round w3-border" src='+myjs[i].IMAGE+' height="150px" width="400px"></div>'+
                        '<div class="w3-card-2" style="">'+myjs[i].TITLE+'</div><div class="w3-card-2" style="">'+myjs[i].NEWS_DATE+'</div> </div>');
                        i=i+1;
                    }
                }
                
                if(inp=='books'){
                    mydiv= $("#booksdiv");
                    mydiv.empty();
                    let i=0;
                    var ar = [];
                    while(i<4){                      
                        let j;
                        j = Math.floor(Math.random() * myjs.length);
                        while(ar.includes(j)){
                            j = Math.floor(Math.random() * myjs.length);
                        }
                        mydiv.append('<div class="w3-panel w3-border" style="width: 24%; float: left; margin-right: 5px;">'+
                                     '<div class="w3-card"><img class="w3-round w3-border" src='+myjs[j].COVER_IMAGE+' height = "200px" width="200px"> </div>'+
                                     '<div class="w3-card-2" style="">'+myjs[j].BOOK_NAME+'</div><div class="w3-card-2" style="">'+myjs[j].AUTHOR_NAME+'</div>'+
                                     '<div class="w3-card-2" style="">'+myjs[j].STATUS+'</div></div>');
                        ar[i] = j;
                        i=i+1;
            
                    }
                }
            }
            $(document).ready(getInfo('news'));
            $(document).ready(getInfo('books'));
        </script>
    </body>
</html>